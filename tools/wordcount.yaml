settings:
  integration: "module" #"module"  # or "inline"

name: wordcount
description: >
  A CLI tool that counts lines, words, and characters in a file.

prompts:
  count_logic:
    title: "Count lines, words, characters"
    prompt: |
      Write a function that takes a string and returns the number of lines, words, and characters.
    output_type: function
    output_eval:
      method: test
      criteria:
        - Matches expected counts
        - Handles empty input

  file_reader:
    title: "Read file contents"
    prompt: |
      Write a function that takes a file path and returns its contents as a string.
    output_type: function
    output_eval:
      method: test
      criteria:
        - Reads valid files
        - Handles missing files with error

  cli_wrapper:
    title: "Command-line interface"
    prompt_file: prompts/cli_wrapper.md
    output_type: script
    output_eval:
      method: manual
      criteria:
        - Correctly parses CLI args
        - Prints formatted output

flow:
  - id: count_logic
  - id: file_reader
  - id: cli_wrapper
    after: [count_logic, file_reader]
